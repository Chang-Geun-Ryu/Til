## 앱을 구성하는 핵심 객체들

#### iOS 유저 인터페이스의 표현구조

- iOS는 항상 디바이스 스크린에 꽉 들어차는 하나의 화면만을 표시가능, 다른 프로그램을 실행하면 기존의 화면은 내려가고 그자리를 새로운 화면이 대신 채움
- 원도우는 iOS에서 디바이스의 스크린을 빈틈없이 채우기 워한 객체로, 항상 유저 인터페이스 표현계층의 최상위에 위치
- 뷰는 콘텐츠를 담아 이를 스크린상 표시하고 사용자 입력에 반응, 윈도우의 일부를 자신의 영역으로 정의하고 필요한 컨텐츠를 채워 넣어 스크린에 나타내는 동시에 원도우로부터 전달된 사용자 입력에 반응하여 결과 처리
- 원도우와 뷰 사이에는 뷰컨트롤러가 존재하여 연결, 뷰 계층을 관리하여 원도우에 전달하고 모바일 디바이스에서 감지된 터치 이벤트를 원도우로부터 전달 받아 처리하는 역활
- 원도우 객체는 하나의 뷰 컨트롤러로 지정하여 참조, 루트 뷰 컨틀롤러로 지정되지 못한 나머지 뷰컨트롤러는 원도우 객체의 직접적인 관리 대상이 아니며, 원도우 객체는 항상 루트 뷰 컨트롤러만 참조
- 대부분의 뷰 컨트롤러들은 각자가 하나씩의 화면을 담당하여 콘텐츠를 표현하고 뷰를 관리하는 것을 Scene 이라는 용어로 부름
- A, B 두개의 Scene으로 이루어진 app은 두개의 뷰컨트롤러가 A, B 각각 담당하여 관리, Scene을 담당하고 콘텐츠를 표시하는 뷰 컨트롤러를 Contents View Controller 라고 함
- 다른 부 컨트롤러의 연결 관계를 관리하는 뷰 컨트롤러가 존재하며 이를 Container View Controller라고 함, 내비게이션 컨트롤러, 탭 바 컨트롤러, 페이지 컨트롤러 등이 대표적
- 뷰 컨틀로러 내부는 수많은 뷰로 이루어지며 뷰들은 자신을 스크린에 표시하기도, 다른 뷰 객체를 포함하는 컨테이너 역활을 수행하기도 함, 이를 View hierarchy 뷰의 계층구조라고 함
- View hierarchy에서 다른 뷰를 포함하는 뷰는 superview가 되고, 포함되는 subview가 됨
- 각각의 Scene은 자신만의 View hierarchy를 가지며, 최상위에는 하나의 뷰가 존재, 최상이 뷰를 Root View, 또는 Contents View라고 함

<img width="432" alt="스크린샷 2019-04-22 09 52 40" src="https://user-images.githubusercontent.com/45986486/56477795-65844880-64e4-11e9-81c5-bbaea3be6928.png">

#### View Controller

- app의 근간을 이루는 객체, 모든 app은 최소한 하나의 View controller로 구성
- 주 역활은 화면 구성 요소를 관리하며, 화면과 데이터 사이의 상호 작용 관리, 원도우 객체로부터 전달된 이벤트를 받아 구현된 로직을 실행하고 화면에 표현하는등의 작업을 수행

**View Controller**: iOS에서 가장 기본이 되는 컨트롤러, app의 data와 표시될 외형을 연결해서 하나의 동적인 화면을 만들어 내는 컨트롤러

**Navigation Controller**: app의 화면 이동에 대한 관리와 그에 관한 연관된 처리를 담당, 내부적으로 다른 컨트롤러를 포함하며, 컨트롤러끼리 화면 이동을 처리하고, 현재의 페이지 위치에 대한 내비게이션 역활

**Table View Controller**: 내부에 리스트 형식의 Table View를 포함하고 있어 여러 항목이나 데이터를 화면에 나열하기 위한 목적으로 사용하는 컨트롤러

**Tab Bar Controller**: 화면을 나타내는 여러개의 Tab이 있고, Tab을 터치하면 화면이 전환되는 형태의 app을 만들때 사용되는 컨트롤러, Tab마다 다른 View Controller를 연결하여 화면을 구성

**Split View Controller**: 프로젝트 탬플릿 선택단계에서 Master-Detail Application 탬플릿을 선택하면 생서되는 기본 컨트롤러, 목록을 나열하는 마스터 페이지와 그 목록 각각에 대한 게부 내용을 보여주는 디테일 페이지로 구성

| 컨트롤러              | 기능                                              | 구현 클래스            |
| --------------------- | ------------------------------------------------- | ---------------------- |
| View Controller       | 화면을 구성하고 콘텐츠를 표현하는 기본 뷰컨트롤러 | UIViewController       |
| Navigation Controller | 화면의 이동과 계층적 탐색을 위한 컨트롤러         | UINavigationController |
| TableView Controler   | 목록을 구현하기 위한 컨트롤러                     | UITableViewController  |
| Split View Controller | 메인-서브 화면 분활용 컨트롤러                    | UISplitviewController  |

**뷰의 관리**: View Controller의 역활중 뷰의 계층관리는 특히 중요하며, 일반 뷰, 테이블 뷰, 컬렉션 뷰 등의 부들은 루트 뷰로 지정 가능, View Controller는 루트 뷰에 대한 참조를 가지며 루트뷰 아래의 각 뷰는 자신의 하위에 있는 뷰를 참조, View Controller로 부터 가장 하위의 subView 까지 계층 구조에 따라 참조가 체인처럼 이어지며, 하위의 모든 뷰에 대한 참조를 가지고 있지 않아도 모든 뷰에 접근 가능

<img width="430" alt="스크린샷 2019-04-22 19 47 54" src="https://user-images.githubusercontent.com/45986486/56497219-9fcb0580-6537-11e9-8e82-31a84aac6389.png">

프로그래머는 뷰컨트롤러를 통해 뷰를 통제하고, 뷰가 사용자와 상호작용할 수 있도록 필요한 코드를 뷰컨트롤러에 작성

#### 뷰 컨트롤러의 상태 변화와 생명 주기

- View Controller의 life cycle은 Scene의 전환과 복귀에 밀접하게 연관, 일반적으로 새로운 장면으로 전환하거나 이전 화면으로 복귀하는 과정에서 View Controller의 객체의 생성과 소멸이 발생
- app을 처음 생성하거나 전환할 때는 Scene을 담당하는 View Controller 객체가 새로 생성, 생성된 객체는 메모리에 로드되어 자신의 역활을 수행, 주어진 역활을 모두 끄내면 app은 이전 장면으로 복귀하고 생성되었던 뷰 컨트롤러 객체는 메모리에서 해제 되면서 소멸

<img width="468" alt="스크린샷 2019-04-22 20 32 30" src="https://user-images.githubusercontent.com/45986486/56498683-d86ddd80-653d-11e9-8ffc-9b913d0f5990.png">

**Appearing**: 뷰 컨트롤러가 스크린에 등장하기 시작한 순간부터 등장을 완료하기 직전까지의 상태, 퇴장 중인 다른 뷰 컨트롤러와 교차하기도 하며, 이때 퇴장 중인 다른 뷰 컨트롤러는 Disappearing 상태

**Appeared**: 뷰 컨트롤러가 스크린 전체에 완전히 등장한 상태를 나타냄

**Disappearing**: 뷰 컨트롤러가 스크린에서 가려지기 시작해서 완전히 가려지기 직전까지의 상태. 또는 되장하기 시작해서 완전히 퇴장하기 직전까지의 상태, 뷰컨트롤러는 새로 등장할 뷰 컨트롤러와 교차하기도 하며, 교차되는 다른 뷰 컨트롤러의 상태는 Appearing

**Disappeared**: 뷰 컨트롤러가 스크린에서 완전히 가려졌거나 혹은 퇴장한 상태

* 뷰 컨트롤러는 위에서 나열된 상태 변화를 반복, Appearing - Appeared - Disappearing - Disappeared 상태로 진행, 종종 Appearing 상태에서 Appeared 상태로 가지 않고 Disappeared 상태로 가는 경우도 있음, Scene이 등장 도중 다시 퇴장 할 수도 있음을 알림
* 애니메이션을 적용할 경우 수 초에 걸처 천천히 진행되는데, 진행 중에 있는 상태를 나타내는 상태값 Appearing과 Disappearing이 진행 되는 중임을 나타내는 값
* 화면이 처음 실행되거나, 퇴장한 상태에서 다시등장하기 시작하는 상태 Appeating로 바쉬는 동안 뷰 컨트롤러는 app 객체에 의해 viewWillAppear(_:)메소드가 호출
* 화면이 완전히 등장하고 나면 viewDidApear(_:) 메소드가 호출
* 화면의 전환이 이루어지거나 홈 버튼을 눌러 app이 BackGound로 내려가는 등 스크린에서 화면이 퇴장하는 상태 변화가 발생하면 viewWillDisappear(_:)메소드 호출되고 상태변화가 완료되면 viewDidDisappear(_:) 메소드가 호출